<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Coche</title>
<style>
    pre {
    background: #cacaca;
    border: 1px solid;
    padding: 10px;
    white-space: unset;
    }
    h3, ul{
    margin:  2px 0px;
    }
</style>

	<script type="text/javascript">


		var Coche = {
			matricula : "",
			gasolina : 0,
			dinero : 0,
			consumo : 0,
			historico : [],

			init : function (){
				this.matricula = prompt(),
				this.gasolina = 50,
				this.dinero = 50,
				this.consumo = 7,
				this.historico = [],
						this.print();
			},

			print : function () {
				var infoCoche = '<h1>Matricula</h1>' + this.matricula + '<br>';
				infoCoche += '<h2>Gasolina</h2>' + this.gasolina + '<br><h2>Consumo</h2>' + this.consumo + ' l a los 100km<br>' + '<h2>Dinero:</h2> ' + this.consumo + '<br>';
				document.getElementById("coche").innerHTML = infoCoche;
			},

			viajar : function (kilometros){
				var gasolinaViaje = ((7 * kilometros) / 100);
				if (this.gasolina >= gasolinaViaje){
				this.gasolina -= gasolinaViaje;
				this.print();
				} else {
					document.getElementById("respuestaViaje").innerHTML = "No hay suficiente gasolina para hacer el viaje, debe repostar antes."
				}
			},

			repostar : function (gasolinera, cantidad){
				var dinero = (cantidad * gasolinera.precioGasolina)
				if (this.dinero >= dinero && gasolinera.gasolina >= cantidad) {
				this.dinero -= dinero;
				this.gasolina += cantidad;
				gasolinera.gasolina -= cantidad;
					this.print();
			} else if(this.dinero >= dinero && gasolinera.gasolina <= cantidad) {
					document.getElementById("respuestaRepostar").innerHTML = "No hay suficiente gasolina para repostar esa cantidad.";
				} else if (this.dinero <= dinero && gasolinera.gasolina >= cantidad) {
					document.getElementById("respuestaRepostar").innerHTML = "No tienes suficiente dinero para repostar esa cantidad de gasolina.";
				} else {
					document.getElementById("respuestaRepostar").innerHTML = "No tienes suficiente dinero ni hay sudiciente gasolina para repostar esa cantidad de gasolina.";

				}
			},

		};




		var Gasolinera = {
			gasolina : 0,
			dinero : 0,
			precioGasolina : "",
			historico: [],

		init : function (){
			this.precioGasolina = prompt("precio de la gasolina"),
			this.gasolina = 500,
			this.dinero = 0,
			this.historico = [],
			this.print();
		},

		print : function () {
			var infoGasolinera = '<h1>Gasolinera</h1><br>';
			infoGasolinera += '<h2>Gasolina</h2>' + this.gasolina + '<br><h2>Dinero</h2>' + this.dinero + ' E<br>';
			document.getElementById("gasolinera").innerHTML = infoGasolinera;
		},
	}





		document.addEventListener("DOMContentLoaded", function(event) {
			Coche.init();
			Gasolinera.init();
		});





	</script>
</head>
<body>

<pre>
    <h3>Crea un objeto coche:</h3>

		<h3>El Coche tendrá los siguientes atributos:</h3>
		<ul>
			<li>Matricula (Se pedirá al usuario al cargar la página)</li>
			<li>Gasolina (inicializado a 50)</li>
			<li>Dinero (inicializado a 100)</li>
			<li>Consumo (inicializado a 7 litros por cada 100 KM)</li>
			<li>Historico de acciones (se guardará historico de viajes y repostajes junto con su fecha y hora)</li>
		</ul>
		<h3>Pinta la información del coche en la pantalla y debajo de la misma los siguientes botones</h3>
		<ul>
			<li>Viajar: Mostrará un input donde se deberá de introducir los kilometros del viaje</li>
			<li>Repostar: Mostrará un input donde se deberá de introducir la cantidad de gasolina que se repostaá</li>
		</ul>

		<h3>Crea un objeto gasolinera:</h3>
		<h3>La Gasolinera tendrá los siguientes atributos:</h3>
		<ul>
			<li>Gasolina (inicializado a 500)</li>
			<li>Dinero (inicializado a 0)</li>
			<li>Precio gasolina (Se pedirá al cargar la web tras haber pedido la matricula del vehiculo)</li>
			<li>Historico: Donde se guardará fecha y hora, matricula y cantidad repostada</li>
		</ul>
		<h3>Durante la ejecución del programa deberá estar siempre visible</h3>
</pre>

<p id="coche"></p>
<p id="gasolinera"></p>




<input type="number" id="viajar">
<button onclick="coche.viajar(document.getElementById('viajar').value)">Viajar</button>
<div id="respuestaViaje"></div>



<input type="number" id="repostar">
<button onclick="coche.repostar(gasolinera, document.getElementById('repostar').value)">Repostar</button>
<div id="respuestaRepostar"></div>


</body>
</html>